(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[25],{1011:function(n,e,t){"use strict";var i=t(114),o=t.n(i),c="http://svcmonev.swg.co.id/api/",a=c+"MasterWilOrgs/",r=function(n,e){var t="";return t=void 0===e?"":e,new Promise((function(e,i){o.a.get("".concat(c).concat(n).concat(t)).then((function(n){e(n.data)}),(function(n){i(n)}))}))},s=function(n,e){return console.log(e),new Promise((function(t,i){o.a.post("".concat(a).concat(n,"?").concat(e)).then((function(n){t(n.data)}),(function(n){i(n)}))}))},d={GetProvinsis:function(){return r("MasterWilOrgs/GetProvinsis")},GetProvinsi:function(n){return r("MasterWilOrgs/GetProvinsi",n)},AddProvinsi:function(n){return s("AddProvinsi",n)},EditProvinsiWeb:function(n){return function(n,e){return new Promise((function(t,i){o.a.post("".concat(a).concat(n),e).then((function(n){t(n.data)}),(function(n){i(n)}))}))}("EditProvinsi",n)},HapusProvinsi:function(n){return s("DeleteProvinsi",n)},GetKabupatenByIdProv:function(n){return r("GetKabupatens",n)},GetKecamatanByIdKab:function(n){return r("GetKecamatans",n)}};e.a=d},1660:function(n,e,t){"use strict";t.r(e);var i=t(0),o=t(703),c=t(2),a=t(686),r=t(718),s=t.n(r),d=t(692),u=t(1011),l=t(1159),f=t.n(l),j=t(665),b=t.n(j),v=t(22);e.default=function(){var n=Object(c.useState)(!1),e=Object(o.a)(n,2),t=e[0],r=e[1],l=Object(c.useState)({IdProvinsi:"",Kode:"",Nama:""}),j=Object(o.a)(l,2),h=j[0],m=j[1],P=Object(c.useState)([]),p=Object(o.a)(P,2),O=p[0],x=p[1],k=Object(c.useState)(!0),g=Object(o.a)(k,2),K=g[0],C=g[1],S=function(n){var e=Object(i.a)({},h);e[n.target.name]=n.target.value,m(e)},y=function(){u.a.GetProvinsis().then((function(n){var e=[];return n.data.map((function(n){e.push({id:n.idProvinsi,kode:n.kode,nama:n.nama})})),x(e)}))};return Object(c.useEffect)((function(){y()}),[]),Object(v.jsxs)(a.T,{children:[Object(v.jsx)(a.k,{md:"12",xl:"12",xs:"12",children:Object(v.jsxs)(a.f,{children:[Object(v.jsx)(a.j,{children:Object(v.jsx)(a.k,{md:"3",children:Object(v.jsxs)(a.e,{block:!0,color:"primary",onClick:function(){r(!0),C(!1),m({IdProvinsi:"",Kode:"",Nama:""})},children:[Object(v.jsx)(d.a,{icon:"plus"}),"Tambah"]})})}),Object(v.jsx)(a.g,{children:Object(v.jsx)(s.a,{title:"",options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF"},filtering:!0},columns:[{title:"ID Provinsi",field:"id",type:"numeric",visible:!1,cellStyle:{backgroundColor:"#039be5",color:"#FFF"},headerStyle:{backgroundColor:"#039be5"}},{title:"Kode",field:"kode"},{title:"Nama Provinsi",field:"nama"}],data:O,actions:[{icon:"edit",tooltip:"Edit Provinsi",text:"Update",label:"Update",onClick:function(n,e){!function(n){var e="?IdProvinsi=".concat(n);u.a.GetProvinsi(e).then((function(n){if(n.isSuccess){var e=n.data,o=Object(i.a)({},h);o.IdProvinsi=n.data.idProvinsi,o.Kode=e.kode,o.Nama=e.nama,m(o),r(!t),C(!0)}}))}(e.id)}},{icon:"delete",tooltip:"Delete Provinsi",onClick:function(n,e){var t,i;t=e.id,i=e.nama,console.log(t),f()({title:"Konfirmasi Hapus?",text:"Provinsi ".concat(i," akan dihapus"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(n){n?u.a.HapusProvinsi("IdProvinsi=".concat(t)).then((function(n){n.isSuccess&&(f()("Provinsi ".concat(i," telah dihapus"),{icon:"success"}),y())})):f()("Data tidak dihapus")}))}}]})})]})}),Object(v.jsxs)(a.J,{show:t,onClose:function(){return r(!t)},size:"lg",children:[Object(v.jsx)(a.M,{closeButton:!0,children:Object(v.jsx)(a.N,{children:"Form Provinsi"})}),Object(v.jsx)(a.K,{children:Object(v.jsxs)(a.v,{children:[Object(v.jsxs)(a.w,{children:[Object(v.jsx)(a.H,{htmlFor:"nf-kodeProv",children:"Kode Provinsi"}),Object(v.jsx)(a.D,{type:"text",id:"nf-kode",value:h.Kode,name:"Kode",placeholder:"Input Kode..",onChange:function(n){return S(n)}})]}),Object(v.jsxs)(a.w,{children:[Object(v.jsx)(a.H,{htmlFor:"nf-nama",children:" Nama Provinsi"}),Object(v.jsx)(a.D,{type:"text",id:"nf-nama",value:h.Nama,name:"Nama",placeholder:"Input Nama Provinsi ..",onChange:function(n){return S(n)}})]})]})}),Object(v.jsxs)(a.L,{children:[Object(v.jsx)(a.e,{color:"primary",onClick:function(){if(K)u.a.EditProvinsiWeb(h).then((function(n){n.isSuccess&&f()("Provinsi Update","Data Provinsi berhasil dirubah","success"),r(!t),y()}));else{var n="Kode=".concat(h.Kode,"&Nama=").concat(h.Nama);u.a.AddProvinsi(n).then((function(n){n.isSuccess?f()("Provinsi Add","Data Provinsi berhasil ditambah","success"):b.a.fire("Provinsi Tidak dapat ditambah","".concat(n.returnMessage),"error"),r(!t),y()}))}},children:"Simpan"}),Object(v.jsx)(a.e,{color:"secondary",onClick:function(){return r(!t)},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=25.f49ff52c.chunk.js.map