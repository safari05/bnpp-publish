(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{1011:function(e,n,t){"use strict";var i=t(113),a=t.n(i),c="http://svcmonev.swg.co.id/api/",o=c+"MasterWilOrgs/",r=function(e,n){var t="";return t=void 0===n?"":n,new Promise((function(n,i){a.a.get("".concat(c).concat(e).concat(t)).then((function(e){n(e.data)}),(function(e){i(e)}))}))},s=function(e,n){return console.log(n),new Promise((function(t,i){a.a.post("".concat(o).concat(e,"?").concat(n)).then((function(e){t(e.data)}),(function(e){i(e)}))}))},l={GetProvinsis:function(){return r("MasterWilOrgs/GetProvinsis")},GetProvinsi:function(e){return r("MasterWilOrgs/GetProvinsi",e)},AddProvinsi:function(e){return s("AddProvinsi",e)},EditProvinsiWeb:function(e){return function(e,n){return new Promise((function(t,i){a.a.post("".concat(o).concat(e),n).then((function(e){t(e.data)}),(function(e){i(e)}))}))}("EditProvinsi",e)},HapusProvinsi:function(e){return s("DeleteProvinsi",e)},GetKabupatenByIdProv:function(e){return r("GetKabupatens",e)},GetKecamatanByIdKab:function(e){return r("GetKecamatans",e)}};n.a=l},1668:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t(700),c=t(2),o=t(685),r=t(709),s=t.n(r),l=(t(693),t(689)),d=t(1011),u=t(1160),j=t.n(u),b=t(22);n.default=function(){var e=Object(c.useState)(!1),n=Object(a.a)(e,2),t=n[0],r=n[1],u=Object(c.useState)({IdProvinsi:"",Kode:"",Nama:""}),h=Object(a.a)(u,2),f=h[0],m=h[1],O=Object(c.useState)([]),v=Object(a.a)(O,2),p=(v[0],v[1]),x=Object(c.useState)(!1),P=Object(a.a)(x,2),g=(P[0],P[1],Object(c.useState)(!0)),K=Object(a.a)(g,2),k=K[0],w=K[1],F=function(e){var n=Object(i.a)({},f);n[e.target.name]=e.target.value,m(n)},N=function(){d.a.GetProvinsis().then((function(e){var n=[];return e.data.map((function(e){n.push({id:e.idProvinsi,kode:e.kode,nama:e.nama})})),p(n)}))};return Object(c.useEffect)((function(){N()}),[]),Object(b.jsxs)(o.T,{children:[Object(b.jsx)(o.k,{md:"12",xl:"12",xs:"12",children:Object(b.jsxs)(o.f,{children:[Object(b.jsx)(o.j,{children:Object(b.jsx)(o.k,{md:"3",children:Object(b.jsxs)(o.e,{block:!0,color:"primary",onClick:function(){r(!0),w(!1),m({IdProvinsi:"",Kode:"",Nama:""})},children:[Object(b.jsx)(l.a,{icon:"plus"}),"Tambah"]})})}),Object(b.jsx)(o.g,{children:Object(b.jsx)(s.a,{title:"",options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF"},filtering:!0},columns:[{title:"ID Organisasi",field:"id",type:"numeric",visible:!1,cellStyle:{backgroundColor:"#039be5",color:"#FFF"},headerStyle:{backgroundColor:"#039be5"}},{title:"Kode",field:"kode"},{title:"Nama Organisasi",field:"nama"},{title:"Alamat",field:"nama"},{title:"Kecamatan",field:"nama"},{title:"Kabupaten",field:"nama"},{title:"Provinsi",field:"nama"},{title:"Latitude",field:"nama"},{title:"Longitude",field:"nama"}],actions:[{icon:"edit",tooltip:"Edit Provinsi",text:"Update",label:"Update",onClick:function(e,n){!function(e){var n="?IdProvinsi=".concat(e);d.a.GetProvinsi(n).then((function(e){if(e.isSuccess){var n=e.data,a=Object(i.a)({},f);a.IdProvinsi=e.data.idProvinsi,a.Kode=n.kode,a.Nama=n.nama,m(a),r(!t),w(!0)}}))}(n.id)}},{icon:"delete",tooltip:"Delete Provinsi",onClick:function(e,n){var t,i;t=n.id,i=n.nama,console.log(t),j()({title:"Konfirmasi Hapus?",text:"Provinsi ".concat(i," akan dihapus"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?d.a.HapusProvinsi("IdProvinsi=".concat(t)).then((function(e){e.isSuccess&&(j()("Provinsi ".concat(i," telah dihapus"),{icon:"success"}),N())})):j()("Data tidak dihapus")}))}}]})})]})}),Object(b.jsxs)(o.J,{show:t,onClose:function(){return r(!t)},size:"lg",children:[Object(b.jsx)(o.M,{closeButton:!0,children:Object(b.jsx)(o.N,{children:"Form Provinsi"})}),Object(b.jsx)(o.K,{children:Object(b.jsxs)(o.v,{children:[Object(b.jsxs)(o.w,{children:[Object(b.jsx)(o.H,{htmlFor:"nf-kodeProv",children:"Kode Organisasi"}),Object(b.jsx)(o.D,{type:"text",id:"nf-kode",value:f.Kode,name:"Kode",placeholder:"Input Kode..",onChange:function(e){return F(e)}})]}),Object(b.jsxs)(o.w,{children:[Object(b.jsx)(o.H,{htmlFor:"nf-nama",children:" Nama "}),Object(b.jsx)(o.D,{type:"text",id:"nf-nama",value:f.Nama,name:"Nama",placeholder:"Input Nama Organisasi ..",onChange:function(e){return F(e)}})]}),Object(b.jsxs)(o.w,{children:[Object(b.jsx)(o.H,{htmlFor:"nf-nama",children:" Alamat "}),Object(b.jsx)(o.D,{type:"text",id:"nf-nama",value:f.Nama,name:"Nama",placeholder:"Input Nama Alamat ..",onChange:function(e){return F(e)}})]}),Object(b.jsxs)(o.w,{children:[Object(b.jsx)(o.H,{htmlFor:"nf-nama",children:" Provinsi "}),Object(b.jsx)(o.U,{children:Object(b.jsx)("option",{value:"0",children:"-- Pilih Provinsi --"})})]}),Object(b.jsxs)(o.w,{children:[Object(b.jsx)(o.H,{htmlFor:"nf-nama",children:" Kabupaten "}),Object(b.jsx)(o.U,{children:Object(b.jsx)("option",{value:"0",children:"-- Pilih Kabupaten --"})})]}),Object(b.jsxs)(o.w,{children:[Object(b.jsx)(o.H,{htmlFor:"nf-nama",children:" Kecamatan "}),Object(b.jsx)(o.U,{children:Object(b.jsx)("option",{value:"0",children:"-- Pilih Kecamatan --"})})]}),Object(b.jsx)(o.w,{children:Object(b.jsx)(o.H,{htmlFor:"nf-nama",children:" View Map Onclik Lat Lon "})})]})}),Object(b.jsxs)(o.L,{children:[Object(b.jsx)(o.e,{color:"primary",onClick:function(){if(k)d.a.EditProvinsiWeb(f).then((function(e){e.isSuccess&&j()("Provinsi Update","Data Provinsi berhasil dirubah","success"),r(!t),N()}));else{var e="Kode=".concat(f.Kode,"&Nama=").concat(f.Nama);d.a.AddProvinsi(e).then((function(e){e.isSuccess?j()("Provinsi Add","Data Provinsi berhasil ditambah","success"):j()("Provinsi Add","Data Provinsi gagal dirubah","error"),r(!t),N()}))}},children:"Simpan"}),Object(b.jsx)(o.e,{color:"secondary",onClick:function(){return r(!t)},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=27.82168d4a.chunk.js.map