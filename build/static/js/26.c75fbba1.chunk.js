(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[26],{1800:function(n,e,t){"use strict";t.r(e);var i=t(2),o=t(719),c=t(1),a=t(684),r=t(743),s=t.n(r),d=(t(688),t(759)),u=t(797),l=t(930),j=t.n(l),b=t(397),f=t.n(b),v=t(21);e.default=function(){var n=Object(c.useState)(!1),e=Object(o.a)(n,2),t=e[0],r=e[1],l=Object(c.useState)({IdProvinsi:"",Kode:"",Nama:""}),b=Object(o.a)(l,2),h=b[0],m=b[1],P=Object(c.useState)([]),p=Object(o.a)(P,2),O=p[0],x=p[1],k=Object(c.useState)(!1),g=Object(o.a)(k,2),K=(g[0],g[1],Object(c.useState)(!0)),S=Object(o.a)(K,2),C=S[0],N=S[1],y=function(n){var e=Object(i.a)({},h);e[n.target.name]=n.target.value,m(e)},w=function(){u.a.GetProvinsis().then((function(n){var e=[];return n.data.map((function(n){e.push({id:n.idProvinsi,kode:n.kode,nama:n.nama})})),x(e)}))};return Object(c.useEffect)((function(){w()}),[]),Object(v.jsxs)(a.Z,{children:[Object(v.jsx)(a.k,{md:"12",xl:"12",xs:"12",children:Object(v.jsxs)(a.f,{children:[Object(v.jsx)(a.j,{children:Object(v.jsx)(a.k,{md:"3",children:Object(v.jsxs)(a.e,{block:!0,color:"primary",onClick:function(){r(!0),N(!1),m({IdProvinsi:"",Kode:"",Nama:""})},children:[Object(v.jsx)(d.a,{icon:"plus"}),"Tambah"]})})}),Object(v.jsx)(a.g,{children:Object(v.jsx)(s.a,{title:"",options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF"},filtering:!0},columns:[{title:"ID Provinsi",field:"id",type:"numeric",visible:!1,cellStyle:{backgroundColor:"#039be5",color:"#FFF"},headerStyle:{backgroundColor:"#039be5"}},{title:"Kode",field:"kode"},{title:"Nama Provinsi",field:"nama"}],data:O,actions:[{icon:"edit",tooltip:"Edit Provinsi",text:"Update",label:"Update",onClick:function(n,e){!function(n){var e="?IdProvinsi=".concat(n);u.a.GetProvinsi(e).then((function(n){if(n.isSuccess){var e=n.data,o=Object(i.a)({},h);o.IdProvinsi=n.data.idProvinsi,o.Kode=e.kode,o.Nama=e.nama,m(o),r(!t),N(!0)}}))}(e.id)}},{icon:"delete",tooltip:"Delete Provinsi",onClick:function(n,e){var t,i;t=e.id,i=e.nama,console.log(t),j()({title:"Konfirmasi Hapus?",text:"Provinsi ".concat(i," akan dihapus"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(n){n?u.a.HapusProvinsi("IdProvinsi=".concat(t)).then((function(n){n.isSuccess&&(j()("Provinsi ".concat(i," telah dihapus"),{icon:"success"}),w())})):j()("Data tidak dihapus")}))}}]})})]})}),Object(v.jsxs)(a.P,{show:t,onClose:function(){return r(!t)},size:"lg",children:[Object(v.jsx)(a.S,{closeButton:!0,children:Object(v.jsx)(a.T,{children:"Form Provinsi"})}),Object(v.jsx)(a.Q,{children:Object(v.jsxs)(a.v,{children:[Object(v.jsxs)(a.w,{children:[Object(v.jsx)(a.N,{htmlFor:"nf-kodeProv",children:"Kode Provinsi"}),Object(v.jsx)(a.E,{type:"text",id:"nf-kode",value:h.Kode,name:"Kode",placeholder:"Input Kode..",onChange:function(n){return y(n)}})]}),Object(v.jsxs)(a.w,{children:[Object(v.jsx)(a.N,{htmlFor:"nf-nama",children:" Nama Provinsi"}),Object(v.jsx)(a.E,{type:"text",id:"nf-nama",value:h.Nama,name:"Nama",placeholder:"Input Nama Provinsi ..",onChange:function(n){return y(n)}})]})]})}),Object(v.jsxs)(a.R,{children:[Object(v.jsx)(a.e,{color:"primary",onClick:function(){if(C)u.a.EditProvinsiWeb(h).then((function(n){n.isSuccess&&j()("Provinsi Update","Data Provinsi berhasil dirubah","success"),r(!t),w()}));else{var n="Kode=".concat(h.Kode,"&Nama=").concat(h.Nama);u.a.AddProvinsi(n).then((function(n){n.isSuccess?j()("Provinsi Add","Data Provinsi berhasil ditambah","success"):f.a.fire("Provinsi Tidak dapat ditambah","".concat(n.returnMessage),"error"),r(!t),w()}))}},children:"Simpan"}),Object(v.jsx)(a.e,{color:"secondary",onClick:function(){return r(!t)},children:"Cancel"})]})]})]})}},797:function(n,e,t){"use strict";var i=t(113),o=t.n(i),c="http://svcmonev.swg.co.id/api/",a=c+"MasterWilOrgs/",r=function(n,e){var t="";return t=void 0===e?"":e,new Promise((function(e,i){o.a.get("".concat(c).concat(n).concat(t)).then((function(n){e(n.data)}),(function(n){i(n)}))}))},s=function(n,e){return console.log(e),new Promise((function(t,i){o.a.post("".concat(a).concat(n,"?").concat(e)).then((function(n){t(n.data)}),(function(n){i(n)}))}))},d={GetProvinsis:function(){return r("MasterWilOrgs/GetProvinsis")},GetProvinsi:function(n){return r("MasterWilOrgs/GetProvinsi",n)},AddProvinsi:function(n){return s("AddProvinsi",n)},EditProvinsiWeb:function(n){return function(n,e){return new Promise((function(t,i){o.a.post("".concat(a).concat(n),e).then((function(n){t(n.data)}),(function(n){i(n)}))}))}("EditProvinsi",n)},HapusProvinsi:function(n){return s("DeleteProvinsi",n)},GetKabupatenByIdProv:function(n){return r("GetKabupatens",n)},GetKecamatanByIdKab:function(n){return r("GetKecamatans",n)}};e.a=d}}]);
//# sourceMappingURL=26.c75fbba1.chunk.js.map