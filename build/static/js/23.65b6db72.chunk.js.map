{"version":3,"sources":["views/master-wil/provinsi/Provinsi.js","views/master-wil/services-wil/index.js"],"names":["Provinsi","useState","getModalProv","setModaProv","IdProvinsi","Kode","Nama","dataVal","setData","GetProvinsiAPI","setProvinsiAPI","GetIsUpdate","SetIsUpdate","handleChange","event","dataValNew","target","name","value","GetProvinsisApis","SVCMasterWil","GetProvinsis","then","result","tmpArr","data","map","val","push","idProvinsi","kode","nama","useEffect","md","xl","xs","block","color","onClick","icon","title","options","headerStyle","backgroundColor","filtering","columns","field","type","visible","cellStyle","actions","tooltip","text","label","rowData","idProv","param","GetProvinsi","isSuccess","resultData","setDataNew","handleGetIdProv","id","console","log","swal","buttons","dangerMode","willDelete","HapusProvinsi","show","onClose","size","closeButton","htmlFor","placeholder","onChange","e","EditProvinsiWeb","AddProvinsi","Swal","fire","returnMessage","rootAPI","process","urlApi","Get","ServiceName","undefined","Promise","resolve","reject","axios","get","error","PostNoJson","serviceName","post","PutTypeJson","GetKabupatenByIdProv","GetKecamatanByIdKab"],"mappings":"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","file":"static/js/23.65b6db72.chunk.js","sourcesContent":["/**\n * createdBy : Safari.eri\n * createdDt : 20210318\n * description\n *    Screen master Wilayah Provinsi\n *\n * TODO\n *  - Create, Update, Delete and Retrieve data master Provinsi\n */\n\nimport React,{useState, useEffect} from 'react';\n// import Core UI\nimport {\n  CCard,\n  CCol,\n  CRow,\n  CCardHeader,\n  CCardBody,\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CForm,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CFormText\n} from '@coreui/react';\nimport MaterialTable from 'material-table'\n\nimport CIcon from '@coreui/icons-react'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport SVCMasterWil from '../services-wil';\nimport swal from 'sweetalert';\nimport Swal from 'sweetalert2';\n\nconst Provinsi = () => {\n\n    const [getModalProv, setModaProv] = useState(false);\n    const [dataVal, setData] = useState({\n      IdProvinsi : '',\n      Kode : '',\n      Nama : ''\n    });\n    const [GetProvinsiAPI, setProvinsiAPI] = useState([]);\n    const [GetStatusProvinsiApi, SetStatusProvinsiApi] = useState(false);\n    const [GetIsUpdate, SetIsUpdate] = useState(true);\n\n\n    const handleModalProv = () =>{\n      setModaProv(true);\n      SetIsUpdate(false);\n      setData({\n        IdProvinsi : '',\n        Kode : '',\n        Nama : ''\n      })\n    }\n\n\n    const handleChange = (event) => {\n\n        let dataValNew = {...dataVal};\n        dataValNew[event.target.name] = event.target.value;\n        setData(dataValNew);\n      };\n\n    const handlePostProvinsi = () => {\n      if(GetIsUpdate){\n        SVCMasterWil.EditProvinsiWeb(dataVal).then(result => {\n          if(result.isSuccess){\n            swal(\"Provinsi Update\",\"Data Provinsi berhasil dirubah\",\"success\");\n          }\n          setModaProv(!getModalProv);\n          GetProvinsisApis();\n        });\n      }else{\n        let param = `Kode=${dataVal.Kode}&Nama=${dataVal.Nama}`;\n        SVCMasterWil.AddProvinsi(param).then((result) => {\n          if(result.isSuccess){\n            swal(\"Provinsi Add\",\"Data Provinsi berhasil ditambah\",\"success\");\n          }else{\n             Swal.fire('Provinsi Tidak dapat ditambah', `${result.returnMessage}`, 'error')\n          }\n          setModaProv(!getModalProv);\n          GetProvinsisApis();\n        });\n\n      }\n    }\n\n    const GetProvinsisApis = () =>{\n      SVCMasterWil.GetProvinsis().then(result => {\n          let tmpArr = [];\n          let resultData = result.data;\n          resultData.map(val => {\n          tmpArr.push(\n                {\n                  \"id\" : val.idProvinsi,\n                  \"kode\": val.kode,\n                  \"nama\":val.nama\n\n                }\n              );\n          });\n          return setProvinsiAPI(tmpArr);\n      });\n\n    }\n\n    const handleGetIdProv = (idProv) =>{\n      let param = `?IdProvinsi=${idProv}`;\n      SVCMasterWil.GetProvinsi(param).then(result => {\n          if(result.isSuccess){\n\n              let resultData = result.data;\n              let setDataNew = {...dataVal}\n              setDataNew.IdProvinsi = result.data.idProvinsi;\n              setDataNew.Kode = resultData.kode;\n               setDataNew.Nama = resultData.nama;\n                setData(setDataNew);\n              setModaProv(!getModalProv);\n              SetIsUpdate(true);\n          }\n      })\n    }\n\n    const handleDeleteId = (idProv, nama)=> {\n      console.log(idProv)\n      swal({\n        title: \"Konfirmasi Hapus?\",\n        text: `Provinsi ${nama} akan dihapus`,\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n      })\n      .then((willDelete) => {\n        if (willDelete) {\n          SVCMasterWil.HapusProvinsi(`IdProvinsi=${idProv}`).then(result => {\n              if(result.isSuccess){\n                swal(`Provinsi ${nama} telah dihapus`, {\n                icon: \"success\",\n              });\n              GetProvinsisApis();\n              }\n          });\n\n        } else {\n          swal(\"Data tidak dihapus\");\n        }\n      });\n    }\n\n    const processDelete = (idProv)=> {\n\n    }\n\n\n\n    useEffect(() =>{\n      GetProvinsisApis();\n    }, []);\n    return(\n     <CRow>\n        <CCol md=\"12\" xl=\"12\" xs=\"12\">\n            <CCard>\n                <CCardHeader>\n                  <CCol md=\"3\" >\n                        <CButton\n                          block\n                          color=\"primary\"\n                           onClick={handleModalProv}>\n                            <FontAwesomeIcon\n                            icon=\"plus\"/>\n                           Tambah\n                        </CButton>\n                  </CCol>\n                </CCardHeader>\n                <CCardBody>\n                    <MaterialTable\n                      title=\"\"\n                      options={{\n                        headerStyle: {\n                          backgroundColor: '#01579b',\n                          color: '#FFF'\n                        },\n                        filtering:true\n                      }}\n                      columns={[\n                        { title: 'ID Provinsi', field: 'id', type: 'numeric',visible: false ,\n                          cellStyle: {\n                            backgroundColor: '#039be5',\n                            color: '#FFF'\n                          },\n                          headerStyle: {\n                            backgroundColor: '#039be5',\n                          }\n                        },\n                        { title: 'Kode', field: 'kode' },\n                        { title: 'Nama Provinsi', field: 'nama',  },\n\n                      ]}\n                    data={GetProvinsiAPI}\n\n                  actions={[\n                    {\n                      icon: 'edit',\n                      tooltip: 'Edit Provinsi',\n                      text:'Update',\n                      label:'Update',\n                      onClick: (event, rowData) => {\n                          handleGetIdProv(rowData.id)\n                      }\n                    },\n                    {\n                      icon: 'delete',\n                      tooltip: 'Delete Provinsi',\n                      onClick: (event, rowData) => {\n                        handleDeleteId(rowData.id, rowData.nama)\n                      }\n                    }\n                  ]}\n                  />\n                </CCardBody>\n            </CCard>\n        </CCol>\n\n        <CModal\n              show={getModalProv}\n              onClose={() => setModaProv(!getModalProv)}\n              size=\"lg\"\n            >\n              <CModalHeader closeButton>\n                <CModalTitle>Form Provinsi</CModalTitle>\n              </CModalHeader>\n              <CModalBody>\n                  <CForm>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-kodeProv\">Kode Provinsi</CLabel>\n                      <CInput type=\"text\" id=\"nf-kode\" value={dataVal.Kode} name=\"Kode\" placeholder=\"Input Kode..\" onChange={(e) => handleChange(e)} />\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Nama Provinsi</CLabel>\n                      <CInput type=\"text\" id=\"nf-nama\" value={dataVal.Nama} name=\"Nama\" placeholder=\"Input Nama Provinsi ..\" onChange={(e) => handleChange(e)} ></CInput>\n                    </CFormGroup>\n                  </CForm>\n              </CModalBody>\n              <CModalFooter>\n                <CButton color=\"primary\" onClick={handlePostProvinsi}>Simpan</CButton>\n                <CButton color=\"secondary\" onClick={() => setModaProv(!getModalProv)}>Cancel</CButton>\n              </CModalFooter>\n        </CModal>\n     </CRow>\n    )\n}\n\nexport default Provinsi;\n","import axios from 'axios';\n\nconst rootAPI = process.env.REACT_APP_ROOT_API;\nconst rootPath = 'MasterWilOrgs/'\nconst urlApi = rootAPI+rootPath;\n\nconst Get = (ServiceName, data)=> {\n    let param = '';\n    if(data === undefined ){\n      param = '';\n    }else{\n      param = data;\n    }\n    const promise = new Promise((resolve, reject) =>{\n\n        axios.get(`${rootAPI}${ServiceName}${param}`)\n        .then((result) =>{\n          resolve(result.data);\n        }, (error) =>{\n          reject(error)\n        })\n    })\n\n    return promise;\n}\n\nconst PostNoJson = (serviceName, data) => {\n    console.log(data)\n    const promise = new Promise((resolve, reject) =>{\n      axios.post(`${urlApi}${serviceName}?${data}`)\n        .then((result) => {\n          resolve(result.data)\n        }, (error)=> {\n          reject(error)\n        })\n\n    });\n\n    return promise;\n\n}\n\nconst PutTypeJson = (serviceName, data) => {\n  const promise = new Promise((resolve, reject) =>{\n      axios.post(`${urlApi}${serviceName}`, data)\n        .then((result) => {\n          resolve(result.data)\n        }, (error)=> {\n          reject(error)\n        })\n\n    });\n\n    return promise;\n}\n\n/** GET */\nconst GetProvinsis = () => Get('MasterWilOrgs/GetProvinsis');\nconst GetProvinsi = (param) => Get('MasterWilOrgs/GetProvinsi',param);\nconst GetKabupatenByIdProv = (param) => Get('GetKabupatens',param);\nconst GetKecamatanByIdKab = (param) => Get('GetKecamatans',param);\n\n/**POST */\nconst AddProvinsi = (data) => PostNoJson('AddProvinsi', data);\n\n/**Put */\nconst EditProvinsiWeb = (data) => PutTypeJson('EditProvinsi', data);\n\nconst HapusProvinsi = (data) => PostNoJson('DeleteProvinsi', data);\n\n\nconst SVCMasterWil = {\n  GetProvinsis,\n  GetProvinsi,\n  AddProvinsi,\n  EditProvinsiWeb,\n  HapusProvinsi,\n  GetKabupatenByIdProv,\n  GetKecamatanByIdKab\n}\n\nexport default SVCMasterWil\n"],"sourceRoot":""}