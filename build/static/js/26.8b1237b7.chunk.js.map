{"version":3,"sources":["views/master-wil/services-wil/index.js","views/master/Organisasi.js"],"names":["rootAPI","process","urlApi","Get","ServiceName","data","param","undefined","Promise","resolve","reject","axios","get","then","result","error","PostNoJson","serviceName","console","log","post","SVCMasterWil","GetProvinsis","GetProvinsi","AddProvinsi","EditProvinsiWeb","PutTypeJson","HapusProvinsi","GetKabupatenByIdProv","GetKecamatanByIdKab","Organisasi","useState","getModalProv","setModaProv","IdProvinsi","Kode","Nama","dataVal","setData","setProvinsiAPI","GetIsUpdate","SetIsUpdate","handleChange","event","dataValNew","target","name","value","GetProvinsisApis","tmpArr","map","val","push","idProvinsi","kode","nama","useEffect","md","xl","xs","block","color","onClick","icon","title","options","headerStyle","backgroundColor","filtering","columns","field","type","visible","cellStyle","actions","tooltip","text","label","rowData","idProv","isSuccess","resultData","setDataNew","handleGetIdProv","id","swal","buttons","dangerMode","willDelete","show","onClose","size","closeButton","htmlFor","placeholder","onChange","e"],"mappings":"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","file":"static/js/26.8b1237b7.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst rootAPI = process.env.REACT_APP_ROOT_API;\nconst rootPath = 'MasterWilOrgs/'\nconst urlApi = rootAPI+rootPath;\n\nconst Get = (ServiceName, data)=> {\n    let param = '';\n    if(data === undefined ){\n      param = '';\n    }else{\n      param = data;\n    }\n    const promise = new Promise((resolve, reject) =>{\n\n        axios.get(`${rootAPI}${ServiceName}${param}`)\n        .then((result) =>{\n          resolve(result.data);\n        }, (error) =>{\n          reject(error)\n        })\n    })\n\n    return promise;\n}\n\nconst PostNoJson = (serviceName, data) => {\n    console.log(data)\n    const promise = new Promise((resolve, reject) =>{\n      axios.post(`${urlApi}${serviceName}?${data}`)\n        .then((result) => {\n          resolve(result.data)\n        }, (error)=> {\n          reject(error)\n        })\n\n    });\n\n    return promise;\n\n}\n\nconst PutTypeJson = (serviceName, data) => {\n  const promise = new Promise((resolve, reject) =>{\n      axios.post(`${urlApi}${serviceName}`, data)\n        .then((result) => {\n          resolve(result.data)\n        }, (error)=> {\n          reject(error)\n        })\n\n    });\n\n    return promise;\n}\n\n/** GET */\nconst GetProvinsis = () => Get('MasterWilOrgs/GetProvinsis');\nconst GetProvinsi = (param) => Get('MasterWilOrgs/GetProvinsi',param);\nconst GetKabupatenByIdProv = (param) => Get('GetKabupatens',param);\nconst GetKecamatanByIdKab = (param) => Get('GetKecamatans',param);\n\n/**POST */\nconst AddProvinsi = (data) => PostNoJson('AddProvinsi', data);\n\n/**Put */\nconst EditProvinsiWeb = (data) => PutTypeJson('EditProvinsi', data);\n\nconst HapusProvinsi = (data) => PostNoJson('DeleteProvinsi', data);\n\n\nconst SVCMasterWil = {\n  GetProvinsis,\n  GetProvinsi,\n  AddProvinsi,\n  EditProvinsiWeb,\n  HapusProvinsi,\n  GetKabupatenByIdProv,\n  GetKecamatanByIdKab\n}\n\nexport default SVCMasterWil\n","/**\n * createdBy : Safari.eri\n * createdDt : 20210318\n * description\n *    Screen master Wilayah Provinsi\n *\n * TODO\n *  - Create, Update, Delete and Retrieve data master Provinsi\n */\n\nimport React,{useState, useEffect} from 'react';\n// import Core UI\nimport {\n  CCard,\n  CCol,\n  CRow,\n  CCardHeader,\n  CCardBody,\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CForm,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CFormText,\n  CSelect\n} from '@coreui/react';\nimport MaterialTable from 'material-table'\n\nimport CIcon from '@coreui/icons-react'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport SVCMasterWil from '../master-wil/services-wil';\nimport swal from 'sweetalert';\n\nconst Organisasi = () => {\n\n    const [getModalProv, setModaProv] = useState(false);\n    const [dataVal, setData] = useState({\n      IdProvinsi : '',\n      Kode : '',\n      Nama : ''\n    });\n    const [GetProvinsiAPI, setProvinsiAPI] = useState([]);\n    const [GetStatusProvinsiApi, SetStatusProvinsiApi] = useState(false);\n    const [GetIsUpdate, SetIsUpdate] = useState(true);\n\n\n    const handleModalProv = () =>{\n      setModaProv(true);\n      SetIsUpdate(false);\n      setData({\n        IdProvinsi : '',\n        Kode : '',\n        Nama : ''\n      })\n    }\n\n\n    const handleChange = (event) => {\n\n        let dataValNew = {...dataVal};\n        dataValNew[event.target.name] = event.target.value;\n        setData(dataValNew);\n      };\n\n    const handlePostProvinsi = () => {\n      if(GetIsUpdate){\n        SVCMasterWil.EditProvinsiWeb(dataVal).then(result => {\n          if(result.isSuccess){\n            swal(\"Provinsi Update\",\"Data Provinsi berhasil dirubah\",\"success\");\n          }\n          setModaProv(!getModalProv);\n          GetProvinsisApis();\n        });\n      }else{\n        let param = `Kode=${dataVal.Kode}&Nama=${dataVal.Nama}`;\n        SVCMasterWil.AddProvinsi(param).then((result) => {\n          if(result.isSuccess){\n            swal(\"Provinsi Add\",\"Data Provinsi berhasil ditambah\",\"success\");\n          }else{\n            swal(\"Provinsi Add\",\"Data Provinsi gagal dirubah\",\"error\");\n          }\n          setModaProv(!getModalProv);\n          GetProvinsisApis();\n        });\n\n      }\n    }\n\n    const GetProvinsisApis = () =>{\n      SVCMasterWil.GetProvinsis().then(result => {\n          let tmpArr = [];\n          let resultData = result.data;\n          resultData.map(val => {\n          tmpArr.push(\n                {\n                  \"id\" : val.idProvinsi,\n                  \"kode\": val.kode,\n                  \"nama\":val.nama\n\n                }\n              );\n          });\n          return setProvinsiAPI(tmpArr);\n      });\n\n    }\n\n    const handleGetIdProv = (idProv) =>{\n      let param = `?IdProvinsi=${idProv}`;\n      SVCMasterWil.GetProvinsi(param).then(result => {\n          if(result.isSuccess){\n\n              let resultData = result.data;\n              let setDataNew = {...dataVal}\n              setDataNew.IdProvinsi = result.data.idProvinsi;\n              setDataNew.Kode = resultData.kode;\n               setDataNew.Nama = resultData.nama;\n                setData(setDataNew);\n              setModaProv(!getModalProv);\n              SetIsUpdate(true);\n          }\n      })\n    }\n\n    const handleDeleteId = (idProv, nama)=> {\n      console.log(idProv)\n      swal({\n        title: \"Konfirmasi Hapus?\",\n        text: `Provinsi ${nama} akan dihapus`,\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n      })\n      .then((willDelete) => {\n        if (willDelete) {\n          SVCMasterWil.HapusProvinsi(`IdProvinsi=${idProv}`).then(result => {\n              if(result.isSuccess){\n                swal(`Provinsi ${nama} telah dihapus`, {\n                icon: \"success\",\n              });\n              GetProvinsisApis();\n              }\n          });\n\n        } else {\n          swal(\"Data tidak dihapus\");\n        }\n      });\n    }\n\n    const processDelete = (idProv)=> {\n\n    }\n\n\n\n    useEffect(() =>{\n      GetProvinsisApis();\n    }, []);\n    return(\n     <CRow>\n        <CCol md=\"12\" xl=\"12\" xs=\"12\">\n            <CCard>\n                <CCardHeader>\n                  <CCol md=\"3\" >\n                        <CButton\n                          block\n                          color=\"primary\"\n                           onClick={handleModalProv}>\n                            <FontAwesomeIcon\n                            icon=\"plus\"/>\n                           Tambah\n                        </CButton>\n                  </CCol>\n                </CCardHeader>\n                <CCardBody>\n                    <MaterialTable\n                      title=\"\"\n                      options={{\n                        headerStyle: {\n                          backgroundColor: '#01579b',\n                          color: '#FFF'\n                        },\n                        filtering:true\n                      }}\n                      columns={[\n                        { title: 'ID Organisasi', field: 'id', type: 'numeric',visible: false ,\n                          cellStyle: {\n                            backgroundColor: '#039be5',\n                            color: '#FFF'\n                          },\n                          headerStyle: {\n                            backgroundColor: '#039be5',\n                          }\n                        },\n                        { title: 'Kode', field: 'kode' },\n                        { title: 'Nama Organisasi', field: 'nama',  },\n                        { title: 'Alamat', field: 'nama',  },\n                        { title: 'Kecamatan', field: 'nama',  },\n                        { title: 'Kabupaten', field: 'nama',  },\n                        { title: 'Provinsi', field: 'nama',  },\n                        { title: 'Latitude', field: 'nama',  },\n                        { title: 'Longitude', field: 'nama',  },\n\n                      ]}\n\n                  actions={[\n                    {\n                      icon: 'edit',\n                      tooltip: 'Edit Provinsi',\n                      text:'Update',\n                      label:'Update',\n                      onClick: (event, rowData) => {\n                          handleGetIdProv(rowData.id)\n                      }\n                    },\n                    {\n                      icon: 'delete',\n                      tooltip: 'Delete Provinsi',\n                      onClick: (event, rowData) => {\n                        handleDeleteId(rowData.id, rowData.nama)\n                      }\n                    }\n                  ]}\n                  />\n                </CCardBody>\n            </CCard>\n        </CCol>\n\n        <CModal\n              show={getModalProv}\n              onClose={() => setModaProv(!getModalProv)}\n              size=\"lg\"\n            >\n              <CModalHeader closeButton>\n                <CModalTitle>Form Provinsi</CModalTitle>\n              </CModalHeader>\n              <CModalBody>\n                  <CForm>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-kodeProv\">Kode Organisasi</CLabel>\n                      <CInput type=\"text\" id=\"nf-kode\" value={dataVal.Kode} name=\"Kode\" placeholder=\"Input Kode..\" onChange={(e) => handleChange(e)} />\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Nama </CLabel>\n                      <CInput type=\"text\" id=\"nf-nama\" value={dataVal.Nama} name=\"Nama\" placeholder=\"Input Nama Organisasi ..\" onChange={(e) => handleChange(e)} ></CInput>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Alamat </CLabel>\n                      <CInput type=\"text\" id=\"nf-nama\" value={dataVal.Nama} name=\"Nama\" placeholder=\"Input Nama Alamat ..\" onChange={(e) => handleChange(e)} ></CInput>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Provinsi </CLabel>\n                      <CSelect>\n                        <option value=\"0\">-- Pilih Provinsi --</option>\n                      </CSelect>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Kabupaten </CLabel>\n                      <CSelect>\n                        <option value=\"0\">-- Pilih Kabupaten --</option>\n                      </CSelect>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Kecamatan </CLabel>\n                      <CSelect>\n                        <option value=\"0\">-- Pilih Kecamatan --</option>\n                      </CSelect>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> View Map Onclik Lat Lon </CLabel>\n\n                    </CFormGroup>\n                  </CForm>\n              </CModalBody>\n              <CModalFooter>\n                <CButton color=\"primary\" onClick={handlePostProvinsi}>Simpan</CButton>\n                <CButton color=\"secondary\" onClick={() => setModaProv(!getModalProv)}>Cancel</CButton>\n              </CModalFooter>\n        </CModal>\n     </CRow>\n    )\n}\n\nexport default Organisasi;\n"],"sourceRoot":""}