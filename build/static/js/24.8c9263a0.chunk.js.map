{"version":3,"sources":["views/master/Organisasi.js","views/master-wil/services-wil/index.js"],"names":["Organisasi","useState","getModalProv","setModaProv","IdProvinsi","Kode","Nama","dataVal","setData","setProvinsiAPI","GetIsUpdate","SetIsUpdate","handleChange","event","dataValNew","target","name","value","GetProvinsisApis","SVCMasterWil","GetProvinsis","then","result","tmpArr","data","map","val","push","idProvinsi","kode","nama","useEffect","md","xl","xs","block","color","onClick","icon","title","options","headerStyle","backgroundColor","filtering","columns","field","type","visible","cellStyle","actions","tooltip","text","label","rowData","idProv","param","GetProvinsi","isSuccess","resultData","setDataNew","handleGetIdProv","id","console","log","swal","buttons","dangerMode","willDelete","HapusProvinsi","show","onClose","size","closeButton","htmlFor","placeholder","onChange","e","EditProvinsiWeb","AddProvinsi","rootAPI","process","urlApi","Get","ServiceName","undefined","Promise","resolve","reject","axios","get","error","PostNoJson","serviceName","post","PutTypeJson","GetKabupatenByIdProv","GetKecamatanByIdKab"],"mappings":"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","file":"static/js/24.8c9263a0.chunk.js","sourcesContent":["/**\n * createdBy : Safari.eri\n * createdDt : 20210318\n * description\n *    Screen master Wilayah Provinsi\n *\n * TODO\n *  - Create, Update, Delete and Retrieve data master Provinsi\n */\n\nimport React,{useState, useEffect} from 'react';\n// import Core UI\nimport {\n  CCard,\n  CCol,\n  CRow,\n  CCardHeader,\n  CCardBody,\n  CButton,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CForm,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CFormText,\n  CSelect\n} from '@coreui/react';\nimport MaterialTable from 'material-table'\n\nimport CIcon from '@coreui/icons-react'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport SVCMasterWil from '../master-wil/services-wil';\nimport swal from 'sweetalert';\n\nconst Organisasi = () => {\n\n    const [getModalProv, setModaProv] = useState(false);\n    const [dataVal, setData] = useState({\n      IdProvinsi : '',\n      Kode : '',\n      Nama : ''\n    });\n    const [GetProvinsiAPI, setProvinsiAPI] = useState([]);\n    const [GetStatusProvinsiApi, SetStatusProvinsiApi] = useState(false);\n    const [GetIsUpdate, SetIsUpdate] = useState(true);\n\n\n    const handleModalProv = () =>{\n      setModaProv(true);\n      SetIsUpdate(false);\n      setData({\n        IdProvinsi : '',\n        Kode : '',\n        Nama : ''\n      })\n    }\n\n\n    const handleChange = (event) => {\n\n        let dataValNew = {...dataVal};\n        dataValNew[event.target.name] = event.target.value;\n        setData(dataValNew);\n      };\n\n    const handlePostProvinsi = () => {\n      if(GetIsUpdate){\n        SVCMasterWil.EditProvinsiWeb(dataVal).then(result => {\n          if(result.isSuccess){\n            swal(\"Provinsi Update\",\"Data Provinsi berhasil dirubah\",\"success\");\n          }\n          setModaProv(!getModalProv);\n          GetProvinsisApis();\n        });\n      }else{\n        let param = `Kode=${dataVal.Kode}&Nama=${dataVal.Nama}`;\n        SVCMasterWil.AddProvinsi(param).then((result) => {\n          if(result.isSuccess){\n            swal(\"Provinsi Add\",\"Data Provinsi berhasil ditambah\",\"success\");\n          }else{\n            swal(\"Provinsi Add\",\"Data Provinsi gagal dirubah\",\"error\");\n          }\n          setModaProv(!getModalProv);\n          GetProvinsisApis();\n        });\n\n      }\n    }\n\n    const GetProvinsisApis = () =>{\n      SVCMasterWil.GetProvinsis().then(result => {\n          let tmpArr = [];\n          let resultData = result.data;\n          resultData.map(val => {\n          tmpArr.push(\n                {\n                  \"id\" : val.idProvinsi,\n                  \"kode\": val.kode,\n                  \"nama\":val.nama\n\n                }\n              );\n          });\n          return setProvinsiAPI(tmpArr);\n      });\n\n    }\n\n    const handleGetIdProv = (idProv) =>{\n      let param = `?IdProvinsi=${idProv}`;\n      SVCMasterWil.GetProvinsi(param).then(result => {\n          if(result.isSuccess){\n\n              let resultData = result.data;\n              let setDataNew = {...dataVal}\n              setDataNew.IdProvinsi = result.data.idProvinsi;\n              setDataNew.Kode = resultData.kode;\n               setDataNew.Nama = resultData.nama;\n                setData(setDataNew);\n              setModaProv(!getModalProv);\n              SetIsUpdate(true);\n          }\n      })\n    }\n\n    const handleDeleteId = (idProv, nama)=> {\n      console.log(idProv)\n      swal({\n        title: \"Konfirmasi Hapus?\",\n        text: `Provinsi ${nama} akan dihapus`,\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n      })\n      .then((willDelete) => {\n        if (willDelete) {\n          SVCMasterWil.HapusProvinsi(`IdProvinsi=${idProv}`).then(result => {\n              if(result.isSuccess){\n                swal(`Provinsi ${nama} telah dihapus`, {\n                icon: \"success\",\n              });\n              GetProvinsisApis();\n              }\n          });\n\n        } else {\n          swal(\"Data tidak dihapus\");\n        }\n      });\n    }\n\n    const processDelete = (idProv)=> {\n\n    }\n\n\n\n    useEffect(() =>{\n      GetProvinsisApis();\n    }, []);\n    return(\n     <CRow>\n        <CCol md=\"12\" xl=\"12\" xs=\"12\">\n            <CCard>\n                <CCardHeader>\n                  <CCol md=\"3\" >\n                        <CButton\n                          block\n                          color=\"primary\"\n                           onClick={handleModalProv}>\n                            <FontAwesomeIcon\n                            icon=\"plus\"/>\n                           Tambah\n                        </CButton>\n                  </CCol>\n                </CCardHeader>\n                <CCardBody>\n                    <MaterialTable\n                      title=\"\"\n                      options={{\n                        headerStyle: {\n                          backgroundColor: '#01579b',\n                          color: '#FFF'\n                        },\n                        filtering:true\n                      }}\n                      columns={[\n                        { title: 'ID Organisasi', field: 'id', type: 'numeric',visible: false ,\n                          cellStyle: {\n                            backgroundColor: '#039be5',\n                            color: '#FFF'\n                          },\n                          headerStyle: {\n                            backgroundColor: '#039be5',\n                          }\n                        },\n                        { title: 'Kode', field: 'kode' },\n                        { title: 'Nama Organisasi', field: 'nama',  },\n                        { title: 'Alamat', field: 'nama',  },\n                        { title: 'Kecamatan', field: 'nama',  },\n                        { title: 'Kabupaten', field: 'nama',  },\n                        { title: 'Provinsi', field: 'nama',  },\n                        { title: 'Latitude', field: 'nama',  },\n                        { title: 'Longitude', field: 'nama',  },\n\n                      ]}\n\n                  actions={[\n                    {\n                      icon: 'edit',\n                      tooltip: 'Edit Provinsi',\n                      text:'Update',\n                      label:'Update',\n                      onClick: (event, rowData) => {\n                          handleGetIdProv(rowData.id)\n                      }\n                    },\n                    {\n                      icon: 'delete',\n                      tooltip: 'Delete Provinsi',\n                      onClick: (event, rowData) => {\n                        handleDeleteId(rowData.id, rowData.nama)\n                      }\n                    }\n                  ]}\n                  />\n                </CCardBody>\n            </CCard>\n        </CCol>\n\n        <CModal\n              show={getModalProv}\n              onClose={() => setModaProv(!getModalProv)}\n              size=\"lg\"\n            >\n              <CModalHeader closeButton>\n                <CModalTitle>Form Provinsi</CModalTitle>\n              </CModalHeader>\n              <CModalBody>\n                  <CForm>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-kodeProv\">Kode Organisasi</CLabel>\n                      <CInput type=\"text\" id=\"nf-kode\" value={dataVal.Kode} name=\"Kode\" placeholder=\"Input Kode..\" onChange={(e) => handleChange(e)} />\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Nama </CLabel>\n                      <CInput type=\"text\" id=\"nf-nama\" value={dataVal.Nama} name=\"Nama\" placeholder=\"Input Nama Organisasi ..\" onChange={(e) => handleChange(e)} ></CInput>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Alamat </CLabel>\n                      <CInput type=\"text\" id=\"nf-nama\" value={dataVal.Nama} name=\"Nama\" placeholder=\"Input Nama Alamat ..\" onChange={(e) => handleChange(e)} ></CInput>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Provinsi </CLabel>\n                      <CSelect>\n                        <option value=\"0\">-- Pilih Provinsi --</option>\n                      </CSelect>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Kabupaten </CLabel>\n                      <CSelect>\n                        <option value=\"0\">-- Pilih Kabupaten --</option>\n                      </CSelect>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> Kecamatan </CLabel>\n                      <CSelect>\n                        <option value=\"0\">-- Pilih Kecamatan --</option>\n                      </CSelect>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"nf-nama\"> View Map Onclik Lat Lon </CLabel>\n\n                    </CFormGroup>\n                  </CForm>\n              </CModalBody>\n              <CModalFooter>\n                <CButton color=\"primary\" onClick={handlePostProvinsi}>Simpan</CButton>\n                <CButton color=\"secondary\" onClick={() => setModaProv(!getModalProv)}>Cancel</CButton>\n              </CModalFooter>\n        </CModal>\n     </CRow>\n    )\n}\n\nexport default Organisasi;\n","import axios from 'axios';\n\nconst rootAPI = process.env.REACT_APP_ROOT_API;\nconst rootPath = 'MasterWilOrgs/'\nconst urlApi = rootAPI+rootPath;\n\nconst Get = (ServiceName, data)=> {\n    let param = '';\n    if(data === undefined ){\n      param = '';\n    }else{\n      param = data;\n    }\n    const promise = new Promise((resolve, reject) =>{\n\n        axios.get(`${rootAPI}${ServiceName}${param}`)\n        .then((result) =>{\n          resolve(result.data);\n        }, (error) =>{\n          reject(error)\n        })\n    })\n\n    return promise;\n}\n\nconst PostNoJson = (serviceName, data) => {\n    console.log(data)\n    const promise = new Promise((resolve, reject) =>{\n      axios.post(`${urlApi}${serviceName}?${data}`)\n        .then((result) => {\n          resolve(result.data)\n        }, (error)=> {\n          reject(error)\n        })\n\n    });\n\n    return promise;\n\n}\n\nconst PutTypeJson = (serviceName, data) => {\n  const promise = new Promise((resolve, reject) =>{\n      axios.post(`${urlApi}${serviceName}`, data)\n        .then((result) => {\n          resolve(result.data)\n        }, (error)=> {\n          reject(error)\n        })\n\n    });\n\n    return promise;\n}\n\n/** GET */\nconst GetProvinsis = () => Get('MasterWilOrgs/GetProvinsis');\nconst GetProvinsi = (param) => Get('MasterWilOrgs/GetProvinsi',param);\nconst GetKabupatenByIdProv = (param) => Get('GetKabupatens',param);\nconst GetKecamatanByIdKab = (param) => Get('GetKecamatans',param);\n\n/**POST */\nconst AddProvinsi = (data) => PostNoJson('AddProvinsi', data);\n\n/**Put */\nconst EditProvinsiWeb = (data) => PutTypeJson('EditProvinsi', data);\n\nconst HapusProvinsi = (data) => PostNoJson('DeleteProvinsi', data);\n\n\nconst SVCMasterWil = {\n  GetProvinsis,\n  GetProvinsi,\n  AddProvinsi,\n  EditProvinsiWeb,\n  HapusProvinsi,\n  GetKabupatenByIdProv,\n  GetKecamatanByIdKab\n}\n\nexport default SVCMasterWil\n"],"sourceRoot":""}